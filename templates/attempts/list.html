{% extends "base.html" %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
    <h2 class="fw-bold">Attempts</h2>
    <a class="btn btn-primary" href="{% url 'problem_list' %}">Pick a problem</a>
</div>
<div class="table-responsive shadow-sm">
    <table class="table table-hover align-middle">
        <thead class="table-light">
            <tr>
                <th>Problem</th>
                <th>Outcome</th>
                <th>Started</th>
                <th>Ended</th>
                <th>Duration</th>
                <th>Mistakes</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            {% for attempt in attempts %}
            <tr>
                <td>{{ attempt.problem.title }}</td>
                <td>{{ attempt.get_outcome_display }}</td>
                <td>{{ attempt.started_at|date:"M d, H:i" }}</td>
                <td>{{ attempt.ended_at|date:"M d, H:i" }}</td>
                <td>{{ attempt.duration_display }}</td>
                <td>{{ attempt.mistakes.count }}</td>
                <td><a class="btn btn-sm btn-outline-primary" href="{% url 'finish_attempt' attempt.pk %}">Update</a></td>
            </tr>
            {% empty %}
            <tr><td colspan="7" class="text-muted text-center">No attempts yet.</td></tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
